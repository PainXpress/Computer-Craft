-- font.lua - Block-font definitions for ComputerCraft sign program

local font = {
  ["A"] = {
    "  #  ",
    " # # ",
    "#####",
    "#   #",
    "#   #"
  },
  ["B"] = {
    "#### ",
    "#   #",
    "#### ",
    "#   #",
    "#### "
  },
  ["C"] = {
    " ####",
    "#    ",
    "#    ",
    "#    ",
    " ####"
  },
  ["D"] = {
    "#### ",
    "#   #",
    "#   #",
    "#   #",
    "#### "
  },
  ["E"] = {
    "#####",
    "#    ",
    "#####",
    "#    ",
    "#####"
  },
  ["F"] = {
    "#####",
    "#    ",
    "#####",
    "#    ",
    "#    "
  },
  ["G"] = {
    " ####",
    "#    ",
    "#  ##",
    "#   #",
    " ####"
  },
  ["H"] = {
    "#   #",
    "#   #",
    "#####",
    "#   #",
    "#   #"
  },
  ["I"] = {
    "#####",
    "  #  ",
    "  #  ",
    "  #  ",
    "#####"
  },
  ["J"] = {
    "#####",
    "   # ",
    "   # ",
    "#  # ",
    " ##  "
  },
  ["K"] = {
    "#   #",
    "#  # ",
    "###  ",
    "#  # ",
    "#   #"
  },
  ["L"] = {
    "#    ",
    "#    ",
    "#    ",
    "#    ",
    "#####"
  },
  ["M"] = {
    "#   #",
    "## ##",
    "# # #",
    "#   #",
    "#   #"
  },
  ["N"] = {
    "#   #",
    "##  #",
    "# # #",
    "#  ##",
    "#   #"
  },
  ["O"] = {
    " ### ",
    "#   #",
    "#   #",
    "#   #",
    " ### "
  },
  ["P"] = {
    "#### ",
    "#   #",
    "#### ",
    "#    ",
    "#    "
  },
  ["Q"] = {
    " ### ",
    "#   #",
    "#   #",
    "#  ##",
    " ####"
  },
  ["R"] = {
    "#### ",
    "#   #",
    "#### ",
    "#  # ",
    "#   #"
  },
  ["S"] = {
    " ####",
    "#    ",
    " ### ",
    "    #",
    "#### "
  },
  ["T"] = {
    "#####",
    "  #  ",
    "  #  ",
    "  #  ",
    "  #  "
  },
  ["U"] = {
    "#   #",
    "#   #",
    "#   #",
    "#   #",
    " ### "
  },
  ["V"] = {
    "#   #",
    "#   #",
    "#   #",
    " # # ",
    "  #  "
  },
  ["W"] = {
    "#   #",
    "#   #",
    "# # #",
    "## ##",
    "#   #"
  },
  ["X"] = {
    "#   #",
    " # # ",
    "  #  ",
    " # # ",
    "#   #"
  },
  ["Y"] = {
    "#   #",
    " # # ",
    "  #  ",
    "  #  ",
    "  #  "
  },
  ["Z"] = {
    "#####",
    "   # ",
    "  #  ",
    " #   ",
    "#####"
  },
  ["0"] = {
    " ### ",
    "#   #",
    "#   #",
    "#   #",
    " ### "
  },
  ["1"] = {
    "  #  ",
    " ##  ",
    "  #  ",
    "  #  ",
    "#####"
  },
  ["2"] = {
    " ### ",
    "#   #",
    "   # ",
    "  #  ",
    "#####"
  },
  ["3"] = {
    "#### ",
    "   # ",
    " ### ",
    "   # ",
    "#### "
  },
  ["4"] = {
    "#  # ",
    "#  # ",
    "#####",
    "   # ",
    "   # "
  },
  ["5"] = {
    "#####",
    "#    ",
    "#### ",
    "    #",
    "#### "
  },
  ["6"] = {
    " ### ",
    "#    ",
    "#### ",
    "#   #",
    " ### "
  },
  ["7"] = {
    "#####",
    "   # ",
    "  #  ",
    " #   ",
    " #   "
  },
  ["8"] = {
    " ### ",
    "#   #",
    " ### ",
    "#   #",
    " ### "
  },
  ["9"] = {
    " ### ",
    "#   #",
    " ####",
    "    #",
    " ### "
  },
  [" "] = {
    "     ",
    "     ",
    "     ",
    "     ",
    "     "
  },
  ["?"] = {
    " ### ",
    "#   #",
    "  ## ",
    "     ",
    "  #  "
  }
}

-- Render a string into 5 text lines
function font.renderText(text, uppercase)
  if uppercase then
    text = text:upper()
  end

  local out = {"", "", "", "", ""}
  for ch in text:gmatch(".") do
    local glyph = font[ch] or font["?"]
    for i = 1, 5 do
      -- append glyph row + single-space separator
      out[i] = out[i] .. (glyph[i] or "     ") .. " "
    end
  end
  return out
end

return font
